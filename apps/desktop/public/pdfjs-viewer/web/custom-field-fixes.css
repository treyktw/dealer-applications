/* public/pdfjs-viewer/custom-field-fixes.css */
/* Fix for text being cut off in form fields */

/* Increase padding and adjust line-height for all text inputs */
.annotationLayer .textWidgetAnnotation input,
.annotationLayer .textWidgetAnnotation textarea {
  /* Increase vertical padding to prevent cutoff */
  padding: 3px 5px !important;
  
  /* Adjust line height for better vertical centering */
  line-height: 1.2 !important;
  
  /* Ensure text is vertically centered */
  vertical-align: middle !important;
  
  /* Allow text to breathe */
  min-height: 8px !important;
  
  /* Prevent text from being clipped */
  overflow: visible !important;
  
  /* Better font rendering */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Fix for single-line text inputs specifically */
.annotationLayer .textWidgetAnnotation input[type="text"] {
  /* Ensure enough height */
  height: auto !important;
  min-height: 8px !important;
  
  /* Better vertical centering */
  padding-top: 4px !important;
  padding-bottom: 4px !important;
  
  /* Prevent text from touching edges */
  box-sizing: border-box !important;
}

/* Fix for multi-line text areas */
.annotationLayer .textWidgetAnnotation textarea {
  /* Allow multiple lines */
  min-height: 20px !important;
  line-height: 1.2 !important;
  padding: 5px !important;
  
  /* Ensure text wraps properly */
  white-space: pre-wrap !important;
  word-wrap: break-word !important;
  overflow-y: auto !important;
}

/* Fix for small fields that cut text */
.annotationLayer section[style*="height"] input,
.annotationLayer section[style*="height"] textarea {
  /* Override inline height styles that are too small */
  height: auto !important;
  min-height: max(100%, 10px) !important;
}

/* Adjust font size if text is too large for field */
.annotationLayer .textWidgetAnnotation input,
.annotationLayer .textWidgetAnnotation textarea {
  /* Slightly smaller font if needed */
  font-size: 11px !important;
  
  /* Ensure font loads properly */
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif !important;
}

/* Fix for fields with explicit small heights in PDF */
.annotationLayer section {
  /* Allow content to expand if needed */
  overflow: visible !important;
}

/* Fix for chopped descenders (letters like g, y, p) */
.annotationLayer .textWidgetAnnotation input {
  /* Add extra space for descenders */
  padding-bottom: 2px !important;
}

/* Fix for number/currency fields that might be cut off */
.annotationLayer input[type="number"],
.annotationLayer input[data-field-type="number"] {
  text-align: right !important;
  padding-right: 8px !important;
}

/* Ensure focus doesn't change size and cause cutoff */
.annotationLayer .textWidgetAnnotation input:focus,
.annotationLayer .textWidgetAnnotation textarea:focus {
  /* Maintain same dimensions on focus */
  padding: 3px 5px !important;
  border-width: 1.5px !important;
}

/* Fix for very small fields in original PDF */
.annotationLayer section[style*="height: 1"] input,
.annotationLayer section[style*="height: 2"] input,
.annotationLayer section[style*="height: 3"] input {
  /* Force minimum height for tiny fields */
  min-height: 24px !important;
  padding: 4px 6px !important;
}

/* Prevent overflow from being hidden */
.annotationLayer .textWidgetAnnotation {
  overflow: visible !important;
}

/* Fix baseline alignment */
.annotationLayer .textWidgetAnnotation input {
  /* Better baseline alignment */
  vertical-align: baseline !important;
  
  /* Remove any transforms that might cause clipping */
  transform: none !important;
}

/* Fix for bold text being cut off */
.annotationLayer input[style*="font-weight: bold"],
.annotationLayer textarea[style*="font-weight: bold"] {
  /* Bold needs more space */
  padding: 4px 6px !important;
  font-weight: 600 !important; /* Slightly less bold */
}

/* Specific fix for fields with exact pixel heights from PDF */
.annotationLayer section[style*="height:"][style*="px"] {
  /* Allow fields to grow if content needs it */
  height: auto !important;
  min-height: var(--field-height, 20px) !important;
}

/* Fix zoom-related cutoff issues */
@media screen {
  .annotationLayer .textWidgetAnnotation input,
  .annotationLayer .textWidgetAnnotation textarea {
    /* Ensure consistent rendering at all zoom levels */
    zoom: 1;
    -moz-transform: scale(1);
    -moz-transform-origin: 0 0;
  }
}

/* Last resort: if text is still cut off, make fields slightly taller */
.annotationLayer .textWidgetAnnotation {
  /* Slight vertical expansion */
  padding: 2px 0 !important;
}

/* Fix for signature fields that might cut text */
.annotationLayer .signatureWidgetAnnotation input {
  line-height: 1.6 !important;
  padding: 5px !important;
}

/* Debug mode - uncomment to see actual field boundaries */
/*
.annotationLayer section {
  outline: 1px dashed red !important;
}
.annotationLayer .textWidgetAnnotation {
  outline: 1px dashed blue !important;
}
.annotationLayer input,
.annotationLayer textarea {
  outline: 1px solid green !important;
}
*/